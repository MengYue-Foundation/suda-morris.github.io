
<!DOCTYPE HTML>
<html>
<head>
	<meta charset="utf-8">
	<title>WenRis Blog</title>
	<meta name="author" content="suda-morris">

	
	<meta name="description" content="WenRis Blog">
	<meta name="keywords" content="C/C++,Python,Lua">
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

	<link href="/atom.xml" rel="alternate" title="WenRis Blog" type="application/atom+xml">
	<link rel="canonical" href="">
	<link href="/favicon.png" rel="shortcut icon">
	<link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
	<!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
	<script src="//libs.baidu.com/jquery/1.9.1/jquery.min.js"></script>
	
</head>


<body>
	<header id="header" class="inner"><h1><a href="/">WenRis Blog</a></h1>
<nav id="main-nav"><ul class="main">
	<li><a href="/">Blog</a></li>
	<li><a href="/blog/archives">Archives</a></li>
	<li><a href="/blog/categories">Categories</a></li>
	<li><a href="/aboutme">About</a></li>
</ul>
</nav>
<nav id="mobile-nav">
	<div class="alignleft menu">
		<a class="button">Menu</a>
		<div class="container"><ul class="main">
	<li><a href="/">Blog</a></li>
	<li><a href="/blog/archives">Archives</a></li>
	<li><a href="/blog/categories">Categories</a></li>
	<li><a href="/aboutme">About</a></li>
</ul>
</div>
	</div>
	<div class="alignright search">
		<a class="button"></a>
		<div class="container">
			<form action="https://www.baidu.com" method="get">
				<input type="text" name="q" results="0">
				<input type="hidden" name="q" value="site:suda-morris.github.io">
			</form>
		</div>
	</div>
</nav>
<nav id="sub-nav" class="alignright">
	<div class="social">
		
		
		
		<a class="twitter" href="http://twitter.com/Morris1106com" title="Twitter">Twitter</a>
		
		
		<a class="github" href="https://github.com/suda-morris" title="GitHub">GitHub</a>
		
    
		
		
		
		
		
		<a class="rss" href="/atom.xml" title="RSS">RSS</a>
		
    
	</div>
	<form class="search" action="https://www.baidu.com" method="get">
		<input class="alignright" type="text" name="q" results="0">
		<input type="hidden" name="q" value="site:suda-morris.github.io">
	</form>
</nav>

</header>
	
		
	

	<div id="content" class="inner">


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2015/11/10/uml-knowledges/">
		
			UML-Knowledges</a>
	</h2>
	<div class="entry-content">
		

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2015-11-10T15:44:29+08:00" pubdate data-updated="true"></time></div>
	<div class="tags">

</div>
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2015/11/09/review-c-plus-plus/">
		
			Review C++</a>
	</h2>
	<div class="entry-content">
		<h2>补码的好处</h2>

<ol>
<li>0的表示唯一</li>
<li>符号位可以直接参与运算</li>
</ol>


<h2>常用的I/O流类库操纵符</h2>

<ol>
<li>dec：数值数据采用十进制表示</li>
<li>hex：数值数据采用十六进制表示</li>
<li>oct： 数值数据采用八进制表示</li>
<li>ws：  提取空白符</li>
<li>endl：插入换行符，并刷新流</li>
<li>ends： 插入空字符</li>
<li>setsprecision(int)： 设置浮点数的小数位数（包括小数点）</li>
<li>setw(int)： 设置域宽</li>
</ol>


<h2>类型别名</h2>

<ol>
<li>typedef 已有类型名 新类型名</li>
<li>using 新类型名 = 已有类型名</li>
</ol>


<h2>auto类型与decltype类型</h2>

<ol>
<li>auto：编译器通过初始值自动推断变量的类型</li>
<li>decltype：定义一个变量与某一表达式的类型相同，但并不用该表达式初始化变量

<ol>
<li>decltype（i） j=2,表示j以2作为初始值，类型与i一致</li>
</ol>
</li>
</ol>


<h2>引用类型</h2>

<ol>
<li>引用（&amp;）是标识符的别名

<ol>
<li>int i；int &amp;ri = i；</li>
</ol>
</li>
<li>定义一个引用时，必须同时对它初始化，使它指向一个已存在的对象</li>
<li>一旦一个引用被初始化后，就不能改为指向其它对象</li>
</ol>


		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2015-11-09T18:08:50+08:00" pubdate data-updated="true"></time></div>
	<div class="tags">

</div>
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2015/11/05/lcd/">
		
			LCD</a>
	</h2>
	<div class="entry-content">
		<h2>TFTLCD驱动芯片</h2>

<ul>
<li>ILI9341、ILI9325、RM68042、RM68021、ILI9320、ILI9328、LGDP4531、SSD1289等</li>
</ul>


<h2>ILI9341</h2>

<ol>
<li>自带显存，其显存总大小为172800（240X320X18/8），即18位模式下（26万色）的显存量。在16位模式下，ILI9341采用RGB565格式存储颜色数据</li>
<li>ILI9341所有的指令都是8位的，高8位无效，且参数除了读写GRAM的时候是16位，其他操作参数都是8位的。这个和ILI9320等驱动器不一样</li>
<li>命令

<ol>
<li>0xD3，这个是读ID4指令，用于读取LCD控制器的ID，这可以用来判断所用的LCD驱动器是什么型号，这样就可以根据控制器的型号去执行对应驱动IC的初始化代码。0xD3指令后跟了4个参数，最后2个参数读出来是0x93和0x41</li>
<li>0x36，这个是存储访问控制指令，可以控制ILI9341存储器的读写方向。简单说木九十在连续写GRAM的时候，可以控制GRAM指针增长的方向，从而控制显示方式。0x36指令后面紧跟一个参数，用来设置GRAM自增方式</li>
<li>0x2A，这是列地址设置指令，在从左到右、从上到下的扫描方式（默认）下面，该指令用于设置横坐标（x坐标）。该指令带有4个参数，实际上是2个坐标值：SC和EC，即列地址的起始值和结束值，SC必须小于等于EC。一般在设置x坐标的时候，我们只需要带2个参数即可，也就是设置SC即可，因为EC没有变化，我们只需要设置一次即可（在初始化ILI9341的时候设置）</li>
<li>0x2B，是页地址设置指令，在从左到右、从上到下的扫描方式（默认）下面，该指令用于设置纵坐标（y坐标）</li>
<li>0x2C，该指令是写GRAM指令，在发送该指令之后，我们便可以网LCD的GRAM里面写入颜色数据了。该指令支持连续写。ILI9341在收到0x2C指令之后，数据有效位宽变为16位，我们可以连续写入LCD GRAM值，而GRAM的地址将根据MY/MX/MV设置的扫描方式进行自增。</li>
<li>0x2E，该指令是读GRAM指令，用于读取ILI9341的显存GRAM。ILI9341在收到该指令后，第一次输出的是dummy数据，也就是无效的数据，第二次开始读取到的才是有效的GRAM数据（从坐标SC、SP开始），输出规律为：每个颜色分量占8位，一次输出2个颜色分量。比如第一次输出的是R1G1，随后的规律为B1R2->G2B2->R3G3->B3R4->G4B4->R5G5&hellip;以此类推。</li>
</ol>
</li>
</ol>


		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2015-11-05T10:19:01+08:00" pubdate data-updated="true"></time></div>
	<div class="tags">

</div>
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2015/11/04/ov7670/">
		
			CMOS图像传感器OV7670</a>
	</h2>
	<div class="entry-content">
		<h2>OV7670简介</h2>

<ol>
<li>通过SCCB总线控制，可以输出整帧、子采样、取窗口等方式及各种分辨率的8位影响数据。VGA图像最高达到30帧/秒。用户可以完全控制图像质量、数据格式和传输方式</li>
<li>具有自动曝光控制、自动增益控制、自动白平衡，自动消除灯光条纹、自动黑电平校准等自动影像控制功能</li>
<li>支持VGA、GIF和从CIF到40X30的各种尺寸。</li>
<li>所有图像处理功能过程包括伽马曲线、白平衡、饱和度、色度等都可以通过SCCB接口编程。</li>
<li>OV7670 CMOS图像传感器通过减少或消除光学或电子缺陷（如固定图案噪声、拖尾、浮散等），提高图像质量，得到清晰的稳定的彩色图像</li>
<li>OV7670芯片内部有：感光阵列、模拟信号处理模块（包括自动增益和自动白平衡）、10位的ADC、测试图案发生器（八色彩条图案渐变至黑白色条图案）、数字信号处理器（控制由原始信号差值到RGB信号的过程，并控制边缘锐化、颜色空间转换等图像质量处理）、图像缩放模块（按照预先设置的要求输出数据格式）、时许发生模块（产生阵列控制和帧率、帧率的时序、自动曝光控制、输出外部时序）、数字视频端口、SCCB接口、LED和闪光灯输出控制电路等</li>
</ol>


<h2>OV7670参数</h2>

<ol>
<li>感光阵列：640*480</li>
<li>稳定工作温度0~50℃</li>
<li>输出格式：

<ol>
<li>YUV/YCbCr4:2:2</li>
<li>RGB565/555/444</li>
<li>GRB4:2:2</li>
<li>Raw RGB Data</li>
</ol>
</li>
<li>光学尺寸：1/6″</li>
<li>视场角：25°</li>
<li>最大帧率：VGA30 f/s</li>
</ol>


<h2>视频帧存储器AL422B简介</h2>

<ol>
<li>AL422B是一个存储容量为3Mb的视频帧存储器，能够配置为384KB（393，216）X8b FIFO，支持VGA、CCIR、NTSC、PAL和HDTV分辨率</li>
<li>具有独立的读写操作能力，读/写周期时间为20ns，访问时间为15ns，具有高速异步串行存取、输出使能控制、自行刷新数据等功能。</li>
<li>目前1帧图像信息通常包含640X480或者720X480字节。</li>
<li>操作过程：

<ol>
<li>初始化。上电后，分别给nWRST和nRRST各0.1ms的初始化脉冲，使AL422B初始化。</li>
<li>复位操作。通常，复位信号可在任何时候给出而不考虑nWE，nRE以及nOE的状态，但是它们仍然要参照时钟信号的输入情况，使它们满足建立时间和保持时间的要求。如果在禁止时钟周期内给给出复位信号，必须等到允许周期到来后才会执行复位操作。当nWRST和nRRST均为低电平时，数据的输入和输出均从地址0开始</li>
<li>写操作。当写使能信号nWE为低电平时，在WCK信号的上升沿，数据通过DI7~DI0写入寄存器，参照WCK的输入周期，写入的数据必须满足建立时间和保持时间的要求。当nWE为高电平时，写操作被禁止，写地址指针停在当前位置上；当nWE再次变为低电平时，写地址指针从当前位置继续开始</li>
<li>读操作。当读使能nRE和数据输出使能nOE均为低电平时，在RCK信号的上升沿，数据由DO7~DO0输出。当nRE为高电平时，读地址指针停在当前位置上；当nRE再次变为低电平时，读地址指针从当前位置开始。执行读操作时，nOE须为低电平，如nOE为高电平，则数据输出端均为高阻态，且读地址指针任然同步加1.nRE和nOE须参照RCK的输入周期，满足建立时间和保持时间的要求。</li>
</ol>
</li>
</ol>


		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2015-11-04T20:19:43+08:00" pubdate data-updated="true"></time></div>
	<div class="tags">

</div>
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2015/10/30/sd-card-driver/">
		
			SD卡与文件系统</a>
	</h2>
	<div class="entry-content">
		<h2>Micro SD卡简介</h2>

<p><img src="http://i.imgur.com/baGsEky.jpg" alt="SD卡" /></p>

<ol>
<li>Micro SD卡的控制指令功能强大，支持SPI、SDIO模式，兼容MMC。在SPI模式下，CS/MOSI/MISO/CLK都需要加10~100K左右的上拉电阻</li>
<li>SD卡有5个寄存器

<ol>
<li>CID：128比特，卡标识寄存器,只读</li>
<li>RCA：16比特，相对卡地址寄存器，即本地系统中卡的地址，动态变化，在主机初始化的时候确定。SPI模式中没有此寄存器</li>
<li>CSD：128比特，卡描述数据，主要存储了卡的容量、数据格式、DSR寄存器是否可用、数据传输相关参数、数据传输速度、最大的数据访问时间、最大的读写数据块长度等，是可配置寄存器</li>
<li>SCR：64比特，SD配置寄存器，即SD卡特定信息数据如：SCR版本号、SD卡版本号、是否支持安全性、擦除后卡状态默认值、SD总线宽度等，由生产商在卡生产阶段写入</li>
<li>OCR：32比特，操作条件寄存器,提供SD Host查询SD卡支持的电压范围，是否是大容量卡OCR[30],卡省电过程是否结束OCR[31]</li>
</ol>
</li>
<li>每发送一个命令，SD卡都会给出一个应答，以告知主机该命令的执行情况，或者返回主机需要获取的数据。SPI模式下，SD卡针对不同的命令，应答可以是R1~R7。命令与响应都是MSB优先。除了SEND_STATUS和READ_OCR指令外，其他指令的响应格式都是R1，格式R1的长度是1Byte，并且最高位总是0，其余每位均是错误提示，在指令接收过程中发生了什么样的错误，对应的错误位就会是‘1’。R1b和R1具有相同的格式，它将伴随一个附加的busy信号，busy信号的长度可以是任意个字节，全0表示卡处在“忙”的状态。格式R2的长度为2字节，它是指令SEND_STATUS的响应，它的高字节和R1相同，低字节同样作为状态提示。格式R3的长度是5字节，它是指令READ_OCR的响应，最高字节和R1相同，其余4字节包含SD卡的OCR寄存器信息</li>
<li>在SD卡收到复位命令（CMD0）时，CS为低电平则SD卡的SPI模式被启用。不过在发送CMD0之前，要发送>74个时钟这是因为SD卡内部有一个供电电压上升时间，大概为64个CLK，剩下的10个CLK用于SD卡同步，之后才能开始CMD0的操作。在卡初始化的时候，CLK时钟最大不能超过400KHz</li>
<li>对SD卡的常用基本操作主要由：单块读、连续读、单块写、连续写。SPI模式下，通过向SD卡发送响应的命令并读取相应的响应来实现对SD卡的控制。</li>
</ol>


<h2>SD 命令</h2>

<ol>
<li>命令:每个命令都有一个起始位和结束位，总长度为48 bits，并且每个命令都有 7 bits 的CRC 校验码，高字节优先传输
<img src="http://i.imgur.com/sDb6XU5.jpg" alt="SD Command" /></li>
<li>Command 共分为12类（class0 - class11），在寄存器CSD中有12 bits CCC（Card Command Class）对本卡支持的分类进行描述
<img src="http://i.imgur.com/2QG9Ein.jpg" alt="SD命令" /></li>
<li>几个重要的命令
<img src="http://i.imgur.com/Xh1BWEV.png" alt="常用命令" /></li>
<li>CMD8命令格式
<img src="http://i.imgur.com/9oboqjq.jpg" alt="CMD8" /></li>
</ol>


<h2>SD 应答</h2>

<ol>
<li>R1响应格式
<img src="http://i.imgur.com/ZYbXuth.png" alt="R1响应格式" /></li>
</ol>


<h2>SD卡初始化</h2>

<p><img src="http://i.imgur.com/ccW4YbS.jpg" alt="SD卡初始化流程" /></p>

<ol>
<li>配置时钟，慢速一般为400Hz，设置工作模式</li>
<li>发送CMD0，对卡进行软复位，进入空闲态，该指令没有反馈</li>
<li>发送CMD8命令用于读取卡的接口信息，如果是SD2.0，则支持CMD8命令；如果是SD1.x，MMC，则不支持CMD8</li>
<li>发送CMD55+ACMD41，判断当前电压是否在卡的工作范围内，看卡能否识别命令，如果是MMC卡，则CMD55不能被识别，短反馈</li>
<li>发送CMD2，验证SD卡是否接入，长反馈</li>
<li>发送CMD3，读取SD卡的RCA地址，短反馈</li>
<li>以RCA作为参数，发送CMD9读取CSD，长反馈</li>
<li>发送CMD7，选中要操作的SD卡，短反馈</li>
<li>配置告诉时钟，准备数据传输，一般为20~25MHz</li>
<li>设置工作模式：DMA、中断或者查询模式</li>
</ol>


<h2>SD卡读取数据流程</h2>

<ol>
<li>发送CMD17</li>
<li>接收卡响应R1</li>
<li>接收数据起始令牌0xFE</li>
<li>接收数据</li>
<li>接收2字节的CRC，如果不使用CRC，这两个字节在读取后可以丢掉</li>
<li>禁止片选之后，发多8个CLK</li>
</ol>


<h2>SD卡写数据流程</h2>

<ol>
<li>发送CMD24</li>
<li>接收卡响应R1</li>
<li>发送写数据起始令牌0xFE</li>
<li>发送数据</li>
<li>发送2字节的伪CRC</li>
<li>禁止片选之后，发多8个CLK</li>
</ol>


<h2>SD卡读数据块操作</h2>

<ol>
<li>在读数据块模式下，数据传输的基本单元是数据块，它的大小在CSD中（READ_BL_LEN）定义</li>
<li>为了保证数据传输的正确，每个数据块后都有一个CRC校验码。</li>
<li>CMD17（Read_Single_Block）启动一次读数据块操作，在传输结束后返回返回到发送状态。</li>
<li>CMD18（Read_Multiple_Block）启动一次连续多个数据块的读操作</li>
<li>主机可以在多数据块读操作的任何时候终止操作，而不管操作的类型。发送停止传输命令即可终止操作</li>
<li>如果在多数据块读操作中，卡检测到错误（如越界，地址错位或内部错误），它将停止数据传输并仍处于数据状态；此时主机必须发送停止传输命令，终止操作</li>
</ol>


<h2>FATFS简介</h2>

<ol>
<li>FATFS是一个完全免费开源的FAT文件系统模块，专门为小型的嵌入式系统而设计。支持FAT12、FAT16和FAT32，支持多个存储媒介；有独立的缓冲区，可以对多个文件进行读/写。</li>
<li>拥有多种配置选项：

<ol>
<li>支持多卷（物理驱动器或分区，最多10个卷）</li>
<li>多个ANSI/OEM代码页包括DBCS</li>
<li>支持长文件名、ANSI/OEM或Unicode</li>
<li>支持RTOS</li>
<li>支持多种扇区大小</li>
<li>只读、最小化的API和I/O缓冲区等</li>
</ol>
</li>
<li>需要我们编写移植代码的是FATFS模块提供的底层接口，包括存储媒介读/写接口(disk I/O)和供给文件创建修改时间的实时时钟

<ol>
<li>ffconf.h:FATFS模块配置文件</li>
<li>ff.h:FATFS和应用模块共用的包含文件</li>
<li>ff.c:FATFS模块</li>
<li>diskio.h:FATFS和disk I/O模块共用的包含文件</li>
<li>interger.h:数据类型定义</li>
<li>option：可选的外部功能(比如支持中文等)</li>
<li>diskio.c:FATFS和disk I/O模块接口层文件</li>
</ol>
</li>
<li>ffconf.h

<ol>
<li>_CODE_PAGE,根据具体使用的而语言在ffconf.h中定义具体的宏定义。如果使用简体中文，则选择936；如果使用英文，则选择437；如果使用日文，则选择932。打开option文件夹，打开cc936.c文件，里面有一个很大的数组static const WCHAR uni2oem[]。这个数组用于unicode码和OEM码之间的相互转换。接下来又有两个函数，ff_convert()和ff_wtoupper()具体执行码型转换和将字符串转换为大写。unicode是一种双字节字符编码，无论中文还是英文，或者其他语言统一到2字节。与现有的任何编码都不兼容。WindowsNT的内核即使用该编码，所有数据进入内核前转换成UNICODE，退出内核后再转换成版本相关的编码(通常称为OEM，在简体中文下即为GB)</li>
<li>_FS_TINY，使用浓缩版的FATFS就设置为1</li>
<li>_FS_READONLY,这个用来配置是不是只读</li>
<li>_USE_STRFUNC,这个用来设置是否支持字符串类操作，比如f_putc,f_puts等</li>
<li>_USE_MKFS,这个用来设置是否使能格式化</li>
<li>_USE_FASTSEEK，这个用来使能快速定位</li>
<li>_USE_LABEL,这个用来设置是否支持磁盘盘符（磁盘名字）读取与设置</li>
<li><em>USE_LFN,该选项用于设置是否支持长文件名，还需要</em>CODE_PAGE支持，取值范围为0~3。0表示不支持长文件名，1~3是支持长文件名，但是存储地方不一样</li>
<li>_VOLUMES,用于设置FATFS支持的逻辑设备数目</li>
<li>_MAX_SS,扇区缓冲的最大值，一般设置为512</li>
</ol>
</li>
<li>ff.h中的函数定义

<ol>
<li>FRESULT f_mount (FATFS<em> fs, const TCHAR</em> path, BYTE opt);加载文件系统

<ul>
<li>fs表示文件系统对象，path表示本地设备驱动号，opt=1表示立即挂载，0表示延迟挂载</li>
</ul>
</li>
<li>FRESULT f_lseek (FIL* fp, DWORD ofs);移动文件的读写指针

<ul>
<li>ofs表示文件偏移量的数目</li>
</ul>
</li>
<li>FRESULT f_close (FIL* fp);关闭打开的文件对象</li>
<li>FRESULT f_opendir (DIR<em> dp, const TCHAR</em> path);打开目录，返回目录对象</li>
<li>FRESULT f_readdir (DIR<em> dp, FILINFO</em> fno);读取目录获得文件信息</li>
<li>FRESULT f_stat (const TCHAR<em> path, FILINFO</em> fno);读取文件的状态</li>
<li>FRESULT f_getfree (const TCHAR<em> path, DWORD</em> nclst, FATFS** fatfs);获取驱动器上的空闲簇数</li>
<li>FRESULT f_truncate (FIL* fp);截断文件</li>
<li>FRESULT f_sync (FIL* fp);刷新写文件的缓冲数据</li>
<li>FRESULT f_unlink (const TCHAR* path);删除目录中的一个文件</li>
<li>FRESULT f_mkdir (const TCHAR* path);创建一个新目录</li>
<li>FRESULT f_chmod (const TCHAR* path, BYTE attr, BYTE mask);更改文件/目录的属性</li>
<li>FRESULT f_utime (const TCHAR<em> path, const FILINFO</em> fno);更改文件/目录的时间戳</li>
<li>FRESULT f_rename (const TCHAR<em> path_old, const TCHAR</em> path_new);重命名/移动文件或目录</li>
<li>FRESULT f_forward (FIL<em> fp, UINT(</em>func)(const BYTE<em>,UINT), UINT btf, UINT</em> bf);转发数据流</li>
<li>FRESULT f_mkfs (const TCHAR* path, BYTE sfd, UINT au);在驱动器上创建一个文件系统</li>
<li>FRESULT f_chdir (const TCHAR* path);改变当前目录</li>
<li>FRESULT f_chdrive (const TCHAR* path);更改当前驱动器</li>
<li>int f_putc (TCHAR c, FIL* fp);</li>
<li>int f_puts (const TCHAR<em> str, FIL</em> cp);</li>
<li>int f_printf (FIL<em> fp, const TCHAR</em> str, &hellip;);</li>
<li>TCHAR<em> f_gets (TCHAR</em> buff, int len, FIL* fp);</li>
</ol>
</li>
<li>diskio.c(需要用户提供如下几个函数接口)

<ol>
<li>DSTATUS disk_initialize (BYTE pdrv);初始化磁盘驱动器</li>
<li>DSTATUS disk_status (BYTE pdrv);获取磁盘状态</li>
<li>DRESULT disk_read (BYTE pdrv, BYTE* buff, DWORD sector, UINT count);读扇区</li>
<li>DRESULT disk_write (BYTE pdrv, const BYTE* buff, DWORD sector, UINT count);写扇区</li>
<li>DRESULT disk_ioctl (BYTE pdrv, BYTE cmd, void* buff);设备相关的控制特性</li>
<li>get_fattime获取当前时间</li>
</ol>
</li>
<li>簇：文件数据分配的基本单位</li>
<li>FAT文件系统依次应该为:引导扇区、文件分配表两个、根目录区和数据区</li>
</ol>


<h2>汉字字库</h2>

<ol>
<li>常用的汉字内码系统有GB2312，GB13000，GBK，BIG5（繁体）等几种，其中GB2312支持的汉字仅有几千个，很多时候不够用，而GBK内码不仅完全兼容GB2312，还支持繁体字，总汉字数量达到2万多个。</li>
<li>每个GBK码由2字节组成，第一个字节为0X81~0xFE，第二个字节分为两部分，一是0x40~0x7E，二是0x80~0xFE。第一个字节代表的意义称为区，GBK里面总共有126个区，每个区内有190个汉字。</li>
<li></li>
</ol>


		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2015-10-30T16:58:07+08:00" pubdate data-updated="true"></time></div>
	<div class="tags">

</div>
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2015/10/26/frdm-kl02z/">
		
			FRDM_KL02Z</a>
	</h2>
	<div class="entry-content">
		<h2>FRDM_KL02Z开发板简介</h2>

<ol>
<li>MKL02Z32VFM4 MCU – 48 MHz、32 KB闪存、4 KB SRAM、32QFN</li>
<li>电容滑动触摸传感板，MMA8451Q加速度传感器，三色LED</li>
<li>新型OpenSDA调试接口：

<ol>
<li>大容量存储设备闪存编程接口(默认)；无需安装任何工具即可评估演示应用</li>
<li>P&amp;E调试接口具有运行控制调试功能并兼容IDE工具</li>
<li>CMSIS-DAP接口：面向嵌入式调试接口的ARM新标准</li>
</ol>
</li>
</ol>


		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2015-10-26T15:51:29+08:00" pubdate data-updated="true"></time></div>
	<div class="tags">

</div>
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2015/10/26/stm32-l4/">
		
			STM32_L4</a>
	</h2>
	<div class="entry-content">
		<h2>STM32L4系列超低功耗微控制器简介</h2>

<ol>
<li>最高主频80MHz，凭借带有DSP和浮点单元（FPU）的ARM® Cortex®-M4内核扩展了超低功耗产品系列及其性能。</li>
<li>提供USB（支持OTG2.0全速，LPM和BCD）</li>
<li>带有LCD驱动（4X44或8X40，带有升压转换器）</li>
<li>存储器范围可以利用SDIO、Quad SPI和FSMC接口轻松扩展</li>
</ol>


		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2015-10-26T14:54:05+08:00" pubdate data-updated="true"></time></div>
	<div class="tags">

</div>
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2015/10/18/short-news-and-knowledges/">
		
			碎片阅读</a>
	</h2>
	<div class="entry-content">
		

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2015-10-18T11:10:22+08:00" pubdate data-updated="true"></time></div>
	<div class="tags">

</div>
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2015/10/16/neo-m8n/">
		
			NEO-M8N</a>
	</h2>
	<div class="entry-content">
		<h2>NEO-M8N模块</h2>

<ol>
<li>内嵌USB转串口功能</li>
<li>三维位置定位</li>
<li>测速</li>
<li>授时</li>
<li>MAXIM公司20.5dB高增益LNA芯片</li>
<li>应用场合：

<ol>
<li>语音报站</li>
<li>航模，飞控，无人机</li>
<li>同步授时</li>
<li>汽车导航</li>
</ol>
</li>
<li>接收制式：

<ol>
<li>GPS</li>
<li>GLONASS</li>
<li>Galileo</li>
<li>BeiDou</li>
<li>QZSS</li>
<li>SBAS</li>
</ol>
</li>
<li>72路接收通道</li>
<li>水平定位精度：2米（空旷地）</li>
<li>输出频率1Hz~10Hz</li>
<li>速度精度：0.1m/s</li>
<li>加速度精度：0.1m/s2</li>
<li>最大高度18000米，最大速度515m/s</li>
<li>最大加速度4g</li>
<li>基于UBX协议进行模块的配置</li>
<li>IIC接口的SDA与SCL已经内部接了上拉电阻</li>
</ol>


<h2>XH414法拉电容</h2>

<ol>
<li>参数:3.3V 0.07F</li>
<li>功能和锂电池一样，在主电源掉电的时候可以为GPS模块的RTC部分供电，以使GPS模块在下次启动时能快速搜索到卫星，一般可维持供电1小时</li>
</ol>


<h2>NMEA-0183协议</h2>

<ol>
<li>NMEA是美国国家海洋电子协会为海用电子设备指定的标准格式，目前已经成为了GPS导航设备统一的RTCM标准协议</li>
<li>NMEA-0183是一套定义接收机输出的标准信息，有几种不同的二格式，每种都是独立相关的ASCII，使用逗号隔开数据，数据流长度30-100字符不等，通常以每秒间隔选择输出，最常用的格式为“GGA”，它包含了定位时间，纬度，经度，高度，定位所用的卫星数，DOP值，差分状态和校正时段，其他的有速度，跟踪，日期等。</li>
<li>NMEA-0183常用语句格式说明：

<ol>
<li>$GPGGA:全球定位数据，最大帧长72</li>
<li>$GPGSA：卫星PRN数据，最大帧长65</li>
<li>$GPGSV：卫星状态信息，最大帧长210</li>
<li>$GPRMC：推荐最小数据，最大帧长70</li>
<li>$GPVTG：地面速度信息，最大帧长34</li>
<li>$GPGLL：大地坐标信息</li>
<li>$GPZDA：UTC时间和日期</li>
</ol>
</li>
<li>协议帧总说明：该协议采用ASCII码。帧格式形如：$aacc,dd,dd,&hellip;,ddd*hh<CR><LF>

<ol>
<li>$表示帧命令起始位</li>
<li>aaccc表示地址域，前两位是标识符，后三位为语句名</li>
<li>ddd&hellip;ddd表示数据</li>
<li>*表示校验和前缀</li>
<li>hh表示校验和，$与*之间所有字符ASCII码的校验和(各字节做异或运算，得到校验和后，再转换16进制格式的ASCII字符)</li>
<li><CR><LF>表示回车和换行</li>
</ol>
</li>
<li>GPGGA：GPS固定数据输出语句

<ol>
<li>格式：$GPGGA,<1>,<2>,<3>,<4>,<5>,<6>,<7>,<8>,<9>,<10>,<11>,<12>,<13>,<14>*<15><CR><LF></li>
<li>例子：$GPGGA,092725.00,4717.11399,N,00833.91590,E,1,8,1.01,499.6,M,48.0,M,,0*5B</li>
<li><1>UTC时间，格式为hhmmss.sss</li>
<li><2>纬度，格式ddmm.mmmm</li>
<li><3>纬度半球，N或者S</li>
<li><4>经度，格式ddmm.mmmm</li>
<li><5>经度半球，E或W</li>
<li><6>定位质量指标，0=定位无效，1=标准定位，2=差分定位，6=估算</li>
<li><7>使用卫星数量，从00到12</li>
<li><8>水平精确度，0.5到99.9</li>
<li><9>天线离海平面的高度，-9999.9到9999.9米</li>
<li><10>高度单位，M表示单位米</li>
<li><11>大地椭球面相对海平面的高度</li>
<li><12>高度单位，M表示单位米</li>
<li><13>差分GPS数据期限（RTCM SC-104），最后设立RTCM传送的秒数量</li>
<li><14>差分参考基站标号，从0000到1023</li>
<li><15>校验和</li>
</ol>
</li>
<li>GPGSA：GPS精度指针及使用卫星

<ol>
<li>格式：$GPGSA,<1>,<2>,<3>,<4>,<5>,<6>,<7>,<8>,<9>,<10>,<11>,<12>,<13>,<14>,<15>,<16>,<17>*<18><CR><LF></li>
<li>例子：$GPGSA,A,3,23,29,07,08,09,18,26,28,,,,,1.94,1.18,1.54*0D</li>
<li><1>模式2：M=手动，A=自动</li>
<li><2>模式1：定位型式1=未定位，2=二维定位，3=三维定位</li>
<li><3>第1信道正在使用的卫星PRN码编号(Pseudo Random Noise，伪随机噪声吗)，01至32</li>
<li><4> 第2信道正在使用的卫星PRN码编号</li>
<li><5> 第3信道正在使用的卫星PRN码编号</li>
<li><6> 第4信道正在使用的卫星PRN码编号</li>
<li><7> 第5信道正在使用的卫星PRN码编号</li>
<li><8> 第6信道正在使用的卫星PRN码编号</li>
<li><9> 第7信道正在使用的卫星PRN码编号</li>
<li><10> 第8信道正在使用的卫星PRN码编号</li>
<li><11> 第9信道正在使用的卫星PRN码编号</li>
<li><12> 第10信道正在使用的卫星PRN码编号</li>
<li><13> 第11信道正在使用的卫星PRN码编号</li>
<li><14> 第12信道正在使用的卫星PRN码编号</li>
<li><15> PDOP综合位置精度因子（0.5 - 99.9）</li>
<li><16> HDOP水平精度因子（0.5 - 99.9）</li>
<li><17> VDOP垂直精度因子（0.5 - 99.9）</li>
<li><18> 校验和</li>
</ol>
</li>
<li>GPGSV：可视卫星状态输出语句

<ol>
<li>格式：：$GPGSV, <1>,<2>,<3>,<4>,<5>,<6>,<7>,&hellip;,<4>,<5>,<6>,<7>*<8><CR><LF></li>
<li>例子：$GPGSV,3,1,10,23,38,230,44,29,71,156,47,07,29,116,41,08,09,081,36*7F</li>
<li><1> 总的GSV语句电文数</li>
<li><2> 当前GSV语句号</li>
<li><3> 可视卫星总数，00至12</li>
<li><4> 卫星编号，01至32</li>
<li><5> 卫星仰角，00至90度</li>
<li><6> 卫星方位角，000至359度。实际值</li>
<li><7> 信噪比（C/No），00至99dB；无表示未接收到讯号</li>
<li><8> 校验和。</li>
<li>每条语句最多包括四颗卫星的信息，每颗卫星的信息有四个数据项，即：卫星编号，卫星仰角，卫星方位角，信噪比</li>
</ol>
</li>
<li>GPRMC：推荐最小数据量的GPS信息

<ol>
<li>格式：$GPRMC,<1>,<2>,<3>,<4>,<5>,<6>,<7>,<8>,<9>,<10>,<11>,<12>*<13><CR><LF></li>
<li>例子：$GPRMC,083559.00,A,4717.11437,N,00833.91522,E,0.004,77.52,091202,,,A*57</li>
<li><1> UTC（Coordinated Universal Time）时间，hhmmss（时分秒）格式</li>
<li><2> 定位状态，A=有效定位，V=无效定位</li>
<li><3> Latitude，纬度ddmm.mmmm（度分）格式（前导位数不足则补0）</li>
<li><4> 纬度半球N（北半球）或S（南半球）</li>
<li><5> Longitude，经度dddmm.mmmm（度分）格式（前导位数不足则补0</li>
<li><6> 经度半球E（东经）或W（西经）</li>
<li><7> 地面速率（000.0~999.9节，Knot，前导位数不足则补0）</li>
<li><8> 地面航向（000.0~359.9度，以真北为参考基准，前导位数不足则补0）</li>
<li><9> UTC日期，ddmmyy（日月年）格式</li>
<li><10> Magnetic Variation，磁偏角（000.0~180.0度，前导位数不足则补0）</li>
<li><11> Declination，磁偏角方向，E（东）或W（西）</li>
<li><12> Mode Indicator，模式指示（仅NMEA0183 3.00版本输出，A=自主定位，D=差分，E=估算，N=数据无效）</li>
<li><13> 校验和。</li>
</ol>
</li>
<li>GPVTG：地面速度信息

<ol>
<li>格式：$GPVTG,<1>,<2>,<3>,<4>,<5>,<6>,<7>,<8>,<9>*<10><CR><LF></li>
<li>例子：$GPVTG,77.52,T,,M,0.004,N,0.008,K,A*06</li>
<li><1> 以真北为参考基准的地面航向</li>
<li><2> T，表示“真”</li>
<li><3> 以磁北为参考基准的地面航向</li>
<li><4> M，表示“磁场”</li>
<li><5> 地面速率</li>
<li><6> N，表示“节”</li>
<li><7> 地面速率</li>
<li><8> K，表示“千米/小时”</li>
<li><9> 模式指示（A=自主定位，D=差分，E=估算，N=数据无效）</li>
<li><10> 校验和</li>
</ol>
</li>
<li>GPGLL：定位地理信息

<ol>
<li>格式：$GPGLL,<1>,<2>,<3>,<4>,<5>,<6>,<7>*<8><CR><LF></li>
<li>例子：$GPGLL,4717.11364,N,00833.91565,E,092321.00,A,A*60</li>
<li><1> 纬度 ddmm.mmmmm（度分）</li>
<li><2> 纬度半球 N（北半球）或 S（南半球）</li>
<li><3> 经度 dddmm.mmmmm（度分）</li>
<li><4> 经度半球 E（东经）或 W（西经）</li>
<li><5> UTC 时间：hhmmss（时分秒）</li>
<li><6> 定位状态，A=有效定位，V=无效定位</li>
<li><7> 模式指示（A=自主定位，D=差分，E=估算，N=数据无效）</li>
<li><8> 校验和</li>
</ol>
</li>
<li>GPZDA：当前时间信息

<ol>
<li>格式：$GPZDA,<1>,<2>,<3>,<4>,<5>,<6>*<7><CR><LF></li>
<li>例子：$GPZDA,082710.00,16,09,2002,00,00*64</li>
<li><1> UTC 时间：hhmmss（时分秒，格林威治时间）</li>
<li><2> 日</li>
<li><3> 月</li>
<li><4> 年</li>
<li><5> 本地区域小时（NEO-6M 不支持，为 00）</li>
<li><6> 本地区域分钟（NEO-6M不支持，为 00）</li>
<li><7> 校验和</li>
</ol>
</li>
</ol>


<h2>NMEA解码库</h2>

<ol>
<li><a href="http://nmea.sourceforge.net/">下载地址</a></li>
<li>支持解析GPGGA，GPGSA，GPGSV，GPRMC，GPVTG这五种语句，解析得到的GPS数据信息以结构体存储，附加地理学相关功能，可支持导航等数据工作，除了解析NMEA语句，它还可以根据随机数产生NMEA语句，方便模拟</li>
<li>结构体：

<ol>
<li>nmeaINFO：保存GPS解码后得到的信息,结构成员介绍

<ol>
<li>smask（int类型）接收到的GPS信息包类型</li>
<li>utc（nmeaTIME结构）包含年、月、日、时、分、秒信息，格林威治时间</li>
<li>sig（int类型）定位质量，0-无效，1-标准定位，2-差分定位</li>
<li>fix（int类型）导航模式，1-无效，2-2D,3-3D</li>
<li>PDOP（double类型）位置精度因子</li>
<li>HDOP（double类型）水平精度因子</li>
<li>VDOP（double类型）垂直精度因子</li>
<li>lat（double类型）纬度</li>
<li>lon（double类型）经度</li>
<li>elv（double类型）海拔，单位m</li>
<li>speed（double类型）速度，单位km/h</li>
<li>direction（double类型）航向，单位：度2</li>
<li>satinfo（nameSATINFO结构）包含了可见卫星，正在使用的卫星，卫星信号等信息</li>
</ol>
</li>
<li>nmeaPARSER：解码时使用的缓冲区数据结构。它是一个链表，在解码时，NMEA库会把输入的GPS原始数据压入到nmeaPARSE结构的链表中</li>
</ol>
</li>
<li>函数：

<ol>
<li>nmea_zero_INFO(&amp;info);初始化解码后的数据</li>
<li>nmea_parse_init(&amp;parser);初始化解析使用的数据结构</li>
<li>nmea_parse(&amp;parser,&amp;buff[0],size,&amp;info);</li>
<li>GMTconvert(&amp;info.utc,&amp;beiJingTime,8,1);</li>
<li>nmea_parser_destory(&amp;parser);释放GPS数据结构</li>
</ol>
</li>
</ol>


<h2>u-center软件</h2>

<ol>
<li>具有配置模块工作方式的功能，方便开发调试</li>
<li>对GPS模块进行性能测试</li>
<li>更新GPS模块固件</li>
</ol>


		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2015-10-16T09:06:12+08:00" pubdate data-updated="true"></time></div>
	<div class="tags">

</div>
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2015/10/11/micro-fabrication/">
		
			微纳加工技术</a>
	</h2>
	<div class="entry-content">
		<h2>信息时代</h2>

<ol>
<li>微电子产业是信息时代的基础</li>
<li>基于硅的晶体管是最基本的信息载体</li>
<li>以硅/半导体为基础的微纳加工技术是信息时代的材料技术基础</li>
</ol>


<h2>IC制造高度专业化</h2>

<ul>
<li>设计->制造->测试->封装</li>
</ul>


<h2>芯片制造工艺</h2>

<ul>
<li>芯片制造工艺是指由“硅片”到“集成电路结构晶圆”之间的工艺步骤</li>
</ul>


<h2>二氧化硅在半导体制造中的作用以原因</h2>

<ol>
<li>作用

<ol>
<li>层间隔离</li>
<li>器件隔离</li>
<li>屏蔽层</li>
</ol>
</li>
<li>原因

<ol>
<li>电阻率高，大于10MΩ·cm</li>
<li>击穿场强大，大于10MV/cm</li>
<li>禁带宽度较宽，越9eV</li>
</ol>
</li>
</ol>


<h2>微纳加工技术的使用场合</h2>

<ol>
<li>集成电路领域</li>
<li>MEMS传感器（如用在投影机里面的DLP芯片)</li>
<li>医疗微电子（如使用带摄像头的胶囊来看人体内的情况，通过一个微系统控制药释放的速度）</li>
<li>平板显示行业</li>
<li>太阳能电池行业</li>
</ol>


<h2>微纳加工技术的特点</h2>

<ol>
<li>资本密集。超净间和设备需要大量资金投入</li>
<li>分批工艺。单个晶元上有上亿的晶体管</li>
<li>杰出的可生产性。良率控制在95%以上,可靠性强（寿命要求不小于10年）</li>
<li>随着产品更新换代，成本更加低</li>
<li>技术渗透性强。集成电路，MEMS，太阳能电池，平板显示器，医疗微电子等领域都离不开微纳加工技术</li>
</ol>


<h2>微纳加工技术中选择Si作为常用材料的原因</h2>

<ol>
<li>Si是人类能做的最纯净、没有缺陷、最完美的材料</li>
<li>Si资源丰富，是地壳中第二大丰富的化学元素</li>
<li>Si形成的SiO2界面性好，Si材料提供了可控、稳定且可重复生产的表面SiO2钝化层，从而使现代集成电路技术真正可以实现</li>
<li>在众多半导体中，Si是唯一能够通过氧化形成稳定绝缘层的材料</li>
</ol>


<h2>集成电路发展历程</h2>

<ol>
<li>历史上第一个晶体管(点接触)是1947年在美国贝尔实验室研制出来；1956年获得了诺贝尔奖，发明人是：威廉·肖克利，约翰·巴丁和沃尔特·布拉顿</li>
<li>1949年第一个面结型晶体管诞生</li>
<li>1958年第一个集成电路只有一个晶体管加3个电阻和1个电容,基片用的材质是锗；获得了2000年的诺贝尔奖；器件之间的连线就是简单的用焊接实现的</li>
<li>1959第一个硅基集成电路实现，也只有4个晶体管加2个电阻</li>
<li>1960年平面工艺技术诞生,塑造了现代IC制造的基本特征</li>
<li>1960年MOSFET诞生，从此MOSFET成为成为构建集成电路的主要器件。相对于BJT，MOS具有更高的集成密度，更低的功耗以及更好的电路设计灵活性</li>
</ol>


<h2>平面工艺</h2>

<ol>
<li>定义：在Si半导体上通过氧化、光刻、扩散、离子注入等一系列流程，制作出晶体管和集成电路的工艺；器件和电路都是在芯片表面一层附近处，整个芯片基本上保持是平坦的</li>
<li>特征：批量生产，成本低廉</li>
</ol>


<h2>摩尔定律</h2>

<ol>
<li>当价格不变时，集成电路上晶体管的数目，约每隔18~24个月便会增加一倍，性能也将提升一倍</li>
<li>摩尔定律是一个<strong>经济学定律</strong></li>
<li>在摩尔定律下，新一代产品的的体积缩小30%(实现相同功能的前提下)，晶体管密度增加一倍，开关管开关速度增加0.5倍，功耗降低，成本降低，功能增加</li>
<li>More than Moore&rsquo;s Law(MtM):更加注重系统集成而不是增加晶体管数量</li>
<li>SoC(System on Chip)片上系统;SiP(System in Package)系统级封装</li>
<li>特征尺寸每两年缩小0.7倍，0.7≈1/根号二</li>
</ol>


<h2>微电子工艺综述</h2>

<ol>
<li>微纳加工工艺技术分类：

<ol>
<li>光刻：在硅片上图上光刻胶，然后通过曝光显影的办法把集成电路版图投影到硅片上的光刻胶上</li>
<li>刻蚀:除去裸露部分的硅或者介质材料，从而把光刻胶上的图形转移到硅片上，具体工艺手段分为：

<ol>
<li>湿法腐蚀</li>
<li>干法刻蚀</li>
</ol>
</li>
<li>掺杂：分为离子注入和热扩散</li>
<li>热处理：包括热氧化来制备介质膜，杂质的热扩散，离子注入后的热退火以及硅化物形成过程中的热处理</li>
<li>介质膜的沉积：微电子器件和集成电路中需要大量的各种介质层和隔离结构，制作方法是化学气相沉积(CVD)</li>
<li>化学机械抛光（CMP）：这是一种平坦化的技术，在现代集成电路的布线中，也用它来做图形加工，就是所谓的大马士革工艺</li>
<li>金属化：形成器件的引出电极以及电路的互连线，实现手段主要是：溅射和电镀</li>
</ol>
</li>
<li>加工步骤：
<img src="http://i.imgur.com/Frmykaj.png" alt="加工步骤" />

<ul>
<li>通过氧化，在晶元上长一层很厚的氧化层（场氧化层），这个氧化就是得到二氧化硅材料</li>
<li>旋转涂胶的方法涂上一层光刻胶，光刻胶是一种有机物，起到图形转移的作用</li>
<li>曝光，激光通过掩膜版，将图形照到了光刻胶上</li>
<li>显影，将已经曝光的光刻胶移除</li>
<li>刻蚀，将没有光刻胶保护的二氧化硅的部分移出</li>
<li>将光刻胶移出</li>
<li>再一次进行氧化，生长出高质量的栅极介质氧化层，也是二氧化硅</li>
<li>沉淀一层多晶硅材料</li>
<li>图形化方式将栅极图形转移到删介质层的二氧化硅上面</li>
<li>通过离子注入的方式将掺杂给加入进去</li>
<li>沉积氮化硅</li>
<li>包含了接触口的图形化</li>
</ul>
</li>
<li>在集成电路工艺制备过程中，就是加材料，图形化，减材料的过程不断循环，在每一循环中，后一次的图形需要和前一次的图形对准</li>
</ol>


<h2>超净间简介</h2>

<ol>
<li>为了保证零缺陷需要：避免引入颗粒，避免金属离子；颗粒引起成品率和可靠性问题，金属离子沾污会引起电性能和可靠性问题</li>
<li>超净间的净化级别：典型的IC Fab为光刻10级（每立方英尺中直径超过0.5um的颗粒不大于10个），其它工艺操作区为100级，“灰区”为1000级或者10000级</li>
<li>0.1~0.3um的颗粒最棘手：更大的颗粒容易沉淀，更小的颗粒容易凝结到更大的颗粒中</li>
<li>人员是一个重要的污染源，所以应当尽量采用SMIF(Standard Mechanical interface)和自动传输系统

<ul>
<li>SMIF是一个具有标准接口的盒子，可以与各个工艺设备来对接</li>
</ul>
</li>
<li>人员需要穿戴特制的超净服，经过封磷才能进入超净间</li>
<li>超纯水：IC制造中用的超纯水电阻率必须超过18MΩ·cm，制备过程包括多级数值过滤以及反渗透离子过滤；超纯水的输运需要通过特殊的聚四氟管道进行</li>
<li>标准的硅片的清洗流程叫做RCA清洗

<ol>
<li>浓硫酸+双氧水去除有机物，H2SO4碳化有机物，H2O2使C氧化成CO2</li>
<li>氢氟酸去除二氧化硅</li>
<li>氨水+双氧水去除可能的重金属离子沾污</li>
<li>盐酸去除碱金属离子沾污</li>
<li>超纯水漂洗</li>
</ol>
</li>
<li>超净间净化级别（最新的级别定义规范是Fed.Std.209E）

<ol>
<li>英制： CLASS（X）：单位立方英尺中的空气中，直径超过0.5um的颗粒不超过X个，1英尺=12英寸=30.48厘米</li>
<li>公制： M(X):单位立方米的空气中，直径超过0.5um的颗粒不超过10<sup>M</sup>个</li>
</ol>
</li>
<li>超净间的“无尘”的原因：

<ol>
<li>层层筛选滤除空气中的颗粒物，大颗粒使用超细纤维过滤，小颗粒使用静电吸附</li>
<li>空气流动采用层流的方式</li>
<li>设备使用无尘的材料制造</li>
<li>晶元在迷你工作台之间转移使用SMIF</li>
</ol>
</li>
<li>超净间温度要求：20~22℃，湿度要求：40~46%RH</li>
<li>超净间着装要求：

<ol>
<li>佩戴帽子，护目镜，面罩，手套，超净服和靴子</li>
<li>超净服由合成纤维制作，里面有一层是聚四氟乙烯材料。超净服是导电的，因此不会积累电荷产生静电发电或者吸附颗粒</li>
</ol>
</li>
</ol>


<h2>集成电路工艺用到的材料</h2>

<ol>
<li>单晶材料：结构晶体内部的微粒在三维空间呈有规律地，周期性的排列。整个晶体中质点在空间的排列短程有序，而且长程有序。单晶整个晶格是连续的</li>
<li>多晶材料：多晶是众多取向晶体的单晶的集合，短程有序，长程无序</li>
<li>非晶材料：短程长程均无序</li>
</ol>


<h2>单晶硅的特性及生长方法</h2>

<ol>
<li>熔融的单质硅在凝固时，硅原子以金刚石晶格结构，排列成许多晶核，如果这些晶核长成晶面取向相同的晶粒，则这些晶粒平行结合起来便结晶成单晶硅。单晶硅具有准金属的物理特性，有较弱的导电性，其电导率随温度升高而增加</li>
<li>单晶硅英文：Monocrystallinesilicon/Single Crystal Silicon</li>
<li>制备单晶硅的原材料是高纯度的多晶硅材料</li>
<li>多晶硅原料的制备：

<ol>
<li>从石英砂中提炼冶金级硅（纯度98%）</li>
<li>用冶金级的硅粉提炼电子级的硅（纯度9~11个“9”）</li>
</ol>
</li>
<li>单晶硅的生长：

<ol>
<li>直拉法（CZ）（生长单晶硅的棒材），切克劳斯基发明，

<ul>
<li>在一个直筒型的热系统里面，用石墨电阻加热，将装在高纯度石英坩埚中的多晶硅熔化，然后将籽晶插入熔体表面进行熔接，同时转动籽晶，再反转坩埚，籽晶缓慢向上提升，经过引晶，放大，转肩，等径生长，收尾等过程，一支单晶硅就能生长出来</li>
</ul>
</li>
<li>区熔法（FZ）（生长单晶硅的棒材）</li>
<li>外延法（生长单晶硅薄膜）</li>
</ol>
</li>
<li>在集成电路中主要用的是CZ的抛光片或者是外延片</li>
<li>直拉法生长机理：

<ol>
<li>可生产大直径单晶，是目前IC用Si单晶的主流拉制方法</li>
<li>将电子级多晶硅原料在石英坩埚中加温至Si的熔点以上使其熔化，“拉制”是溶液在籽晶上冷凝并规则排布的过程，采用单晶籽晶作为起始材料，籽晶的晶向决定着所拉出单晶的晶向</li>
<li>核心问题是温度场的控制，拉晶速度决定了单晶棒的直径，而单晶的晶格完整性，掺杂均匀性等也主要由冷凝过程的温度分布决定</li>
<li>直拉法中晶体在熔体表面处生长，而不与坩埚相接触，这样能显著地减小晶体的应力，并防止锅壁的寄生成核</li>
<li>高温下石英晶坩埚中的O、C等杂质会进入Si溶液，如何处理这些杂质也是一个关键问题</li>
</ol>
</li>
<li>单晶硅棒通过切片得到硅片，硅片尺寸一般有4寸，6寸，8寸或者12寸，通过化学机械抛光磨平表面，再在化学溶液中腐蚀，获得表面非常光整的单晶硅片（厚度约0.5mm，直径约300mm）</li>
<li>几种常见的半导体化学性质比较

<ol>
<li>禁带宽度：GaAs(砷化镓)>Si>Ge,因此Si的PN结反向电流比Ge小</li>
<li>禁带类型，Si和Ge都是间接带隙，GaAs是直接带隙，因此光电器件采用GaAs</li>
<li>电子迁移率：Si&lt;Ge&lt;GaAs,因此Si不适于在高频下工作，高频高速以及微波器件多采用GaAs</li>
</ol>
</li>
</ol>


<h2>集成电路和其它微结构器件中需要多种多样的薄膜</h2>

<ol>
<li>介质膜：高质量的超薄氧化层薄膜，绝缘性能好，包括MOS器件的栅氧化薄膜

<ol>
<li>超薄，1~3nm；很低的界面态；很好的绝缘性，约9eV bandgap，击穿场强需要7~15MV/cm；能够阻止硼（B）穿过</li>
<li>包括高质量超薄介质层和低热预算介质薄膜</li>
<li>制备技术：

<ol>
<li>热氧化和ALD(Atomic Layer Deposition，原子级沉积)技术</li>
<li>CVD(Chemical Vapor Deposition)技术：在器件形成或者金属互联之后淀积介质膜，要求低的热预算（thermal budget，温度与时间的乘积），使得在淀积薄膜的工艺下，不对已经形成的器件的杂质分布或者已经形成的金属互联网络产生不好的影响</li>
</ol>
</li>
<li>氧化的速率受温度和氧化时间的影响很大。当氧气浓度很丰富时，二氧化硅的生长速度由硅键断裂速度决定，而此过程大部分取决于温度的高低。为了得到致密的氧化层，必须使反应炉内的温度保持恒定</li>
<li>二氧化硅在整个工艺流程中多次用来作为硅衬底保护层和连个电极之间的隔离层</li>
<li>氮化硅非常致密并且比其他材料更能抵抗杂质扩散</li>
</ol>
</li>
<li>金属膜

<ol>
<li>布线层数和总长度：10层布线，最细线宽在45nm左右，而布线总长度可达到5公里量级</li>
<li>包括用于金属半导体接触的和用于金属互联网络的</li>
<li>制备技术：

<ol>
<li>溅射，蒸发，电镀</li>
</ol>
</li>
</ol>
</li>
<li>单晶态的半导体薄膜

<ol>
<li>制备技术：外延</li>
</ol>
</li>
<li>为了满足不同的应用场景的要求，对薄膜的要求也是不同的，制备技术的选择和优化要针对应用的需求：应力，附着性，化学稳定性，化学腐蚀的选择性和可加工性，保角性(conformation)

<ol>
<li>保角性：在图形的面上，沉积的速度大致相同</li>
</ol>
</li>
<li>二氧化硅的应用

<ol>
<li>在MOSFET中

<ol>
<li>栅极氧化</li>
<li>绝缘层</li>
<li>钝化层</li>
</ol>
</li>
<li>在IC中

<ol>
<li>器件隔离</li>
<li>层间介质</li>
<li>掩蔽层</li>
</ol>
</li>
</ol>
</li>
<li>IC中使用的SiO2是非晶体，即短程无序，长程也无序。晶体二氧化硅的密度2.65g/cm3,非晶体二氧化硅的密度2.2g/cm3</li>
</ol>


<h2>CVD技术</h2>

<ol>
<li>过程：气态反应物在沉底反应生成固态的薄膜，例如siH4(g)+O2(g)->SiO2(g)+2H2(g)[400℃],3SiH4(g)+4NH3(g)->Si3N4(s)+12H2(g)[750℃],其中SiH4称为硅烷,SiH4(g)->Si(s)+2H2(650℃),WF6(g)+3H2(g)->W(s)+6HF(g)</li>
<li>工艺步骤：

<ol>
<li>反应物运输到淀积区域</li>
<li>反应物从主气流穿过边界层运输到晶片表面</li>
<li>反应物吸附在晶片表面</li>
<li>表面作用，包括化学分解或反应，在表面迁移向吸附位置</li>
<li>副产物的吸解</li>
<li>副产物穿过边界层回到主气流中</li>
<li>副产物离开淀积区域排走</li>
</ol>
</li>
<li>CVD技术分类及设备简介

<ol>
<li>常压化学气相沉积（APCVD），激励源：温度；特点：产能(throughput)大,但是台阶覆盖性不好</li>
<li>低压化学气相沉积（LPCVD），激励源：温度；特点：气体稀薄，自由程大，硅片可以紧密排列，可以批量加工，并且保角性比较好，但是工艺温度比较高，石英管壁上的沉积物成为后续工艺中的颗粒；

<ol>
<li>栅极氧化使用的是LPCVD技术，温度在560~650之间</li>
</ol>
</li>
<li>等离子体增强化学气相沉积（PECVD），激励源：等离子体，温度；特点：沉积温度低，但是沉积物的致密性较差，工艺可控性差，台阶覆盖性较差</li>
</ol>
</li>
<li>几种最常见的CVD实例

<ol>
<li>W plug（钨塞），用于集成电路互联线层间连通金属，需要优化CVD工艺，提高保角性</li>
</ol>
</li>
<li>ClusterTools设备使得硅片在不同的反应腔中传输时不出真空环境，大大减少了环境影响因素，提高了工艺成品率</li>
<li>对下层非平面形貌的覆盖，包括台阶覆盖和孔的填充问题，通过控制反应气体理化特性和各种工艺条件，达到：

<ol>
<li>适当的粘附系数</li>
<li>主要由反应控制决定薄膜生长有利于台阶覆盖</li>
</ol>
</li>
</ol>


<h2>ALD(Atomic layer deposition)原子层沉积</h2>

<ol>
<li>原子层沉积是一种可以将物质以单原子膜形式一层一层的镀在基底表面的方法</li>
<li>通常用来制作MOS器件的栅氧化层(又薄质量又高的氧化层)</li>
<li>不是靠衬底（Si）氧化，而是靠化学气相沉积，可用于制备非SiO2系列的high-k(高介电常数)介质</li>
</ol>


<h2>热氧化过程</h2>

<ol>
<li>氧化气氛

<ol>
<li>干氧：O2;干氧能够提供更好的氧化质量和Si/SiO2界面，良好的界面性使得Si超越别的半导体材料，成为半导体工艺中最受欢迎的一种</li>
<li>湿氧：O2和H2O；需要注意，水汽在二氧化硅中的扩散速度远远大于氧气在二氧化硅中的扩散速度，可以形成厚的氧化层</li>
<li>其他添加元素：H（H2），Cl（TCA或者TCE），N（NH3或者N2O）。其中含氯氧化目的在于去除金属离子</li>
<li>实际生产中会采用dry-wet-dry-anneal的组合形式来进行氧化。anneal即退火，可以促进原子重排，将未反应的Si离子氧化，并减少界面缺陷</li>
</ol>
</li>
<li><img src="http://i.imgur.com/oqKEncN.png" alt="热氧化过程" /></li>
<li>Deal-Grove模型
<img src="http://i.imgur.com/KaExFIC.png" alt="Deal-Grove" /></li>
<li>氧化工艺中应注意的其他问题：

<ol>
<li>Na、K等碱金属离子在SiO2中是块扩散杂质，将在SiO2中起移动电荷作用，引起MOS器件阈值电压漂移。因此要严格栅氧化前的硅片清洗和氧化环节的污染控制。氧化气氛中通少量HCl气氛也是控制金属离子沾污的一个办法</li>
<li>Si/SiO2界面的缺陷将成为MOS器件栅下的界面态，也会引起MOS器件阈值电压漂移。需要优化氧化前的硅片表面处理，优化氧化工艺，尽量减少Si/SiO2界面缺陷</li>
<li>后续的家文过程中可能会引起多晶硅删中的B参杂穿透SiO2层进入沟道（B在SiO2中是快扩散杂质），从而改变沟道内的杂质分布；应对办法：提高SiO2的致密性，如采用氧化时加少量NO，形成更致密的SiON；采用尽可能厚的栅介质；不采用参杂的多晶硅栅</li>
</ol>
</li>
<li>氧化层质量的影响因素：

<ol>
<li>衬底洁净度</li>
<li>气体的纯净度</li>
<li>氧化过程</li>
</ol>
</li>
<li>反应扩散模型，可以有效解释氧化膜厚度大于20nm的时候，超薄氧化层不适用此模型，如栅氧
<img src="http://i.imgur.com/FAQ8O9b.png" alt="基础公式" />
<img src="http://i.imgur.com/uMbHfM7.png" alt="反应扩散模型" />

<ol>
<li>氧化层很薄的时候，氧化速率由反应速率控制；氧化层很厚的时候，氧化速率由扩散速率控制</li>
<li>k是反应速率常数，D是扩散系数，C0是氧化剂在SiO2中的固溶度，N是单位体积二氧化硅中氧分子数，x0表示t=0时刻氧化膜厚度。其中k，D和C0均与温度有关，C0还与压强有关，可以增大压强提高C0</li>
</ol>
</li>
<li>影响氧化反应速率的因素：

<ol>
<li>温度</li>
<li>压强</li>
<li>重掺杂削弱Si-Si键，提高了反应速率</li>
<li>含氯氧化，cl能与绝大多数金属反应，生成的氯化物易挥发，提高了反应质量。反应副产品H2O的加入加快了反应速率</li>
<li>不同的晶向反应速率不同，原因在于晶面之间的距离不同，111面最快，100面最慢</li>
</ol>
</li>
</ol>


<h2>干氧湿氧法的特点及原因</h2>

<ol>
<li>干氧：氧化层质量高，Si/SiO2界面特性更好，但是反应速率较慢</li>
<li>湿氧：氧化层较稀疏，通常适合生长较厚的氧化层，反应速率较快</li>
<li>原因：水分子比氧分子小，更容易在SiO2中扩散，水分子在SiO2中的溶解度大于氧分子</li>
</ol>


<h2>RTO（Rapid Thermal Oxidation）</h2>

<ol>
<li>超薄氧化膜（如栅极氧化膜）在低温或者低压下很难操控 ，不易生长</li>
<li>RTO技术能够生长1.8nm的氧化膜，氧化硅片的使用高功率的碘钨灯加热硅片以降低Thermal Budget，反应温度在1000℃左右，反应时间是毫秒级，更高的反应温度能够生长高质量的薄膜。RTO工艺只能单片操作，但是每一片消耗的时间很短。RTO技术的缺点在于，温度均匀性很难保证</li>
</ol>


<h2>Si/SiO2表面的杂质分离</h2>

<p><img src="http://i.imgur.com/xYRtMeX.png" alt="分离系数" /></p>

<ol>
<li>参杂的硅片在氧化和退火过程中，杂质会重分布，因为杂质在Si和SiO2中的平衡浓度不同</li>
<li>氧化过程中，新生长的SiO2会吸引受体，如硼（B），并且排斥施主，如磷（P）和砷（As）</li>
<li>杂质在SiO2中没有电学活性</li>
</ol>


<h2>热氧化前的清洗</h2>

<ol>
<li>SC1标准清洗，去除有机物和金属，使用氨水，80摄氏度</li>
<li>SC2标准清洗，去除离子，使用盐酸，80摄氏度</li>
<li>自然氧化层去除，使用HF，室温，几十秒时间就完成</li>
<li>评估清洗干净的标准是检测清洗后的水的电阻率是否超过18MΩ·cm</li>
</ol>


<h2>Si/SiO2氧化层电荷</h2>

<ol>
<li>评价界面的好坏

<ol>
<li>氧化层中的电荷越少越好</li>
<li>界面缺陷越少越好，即界面上Si的断键（悬挂键）越少越好</li>
</ol>
</li>
<li>可移动离子

<ol>
<li>阳离子Na会在氧化层中移动</li>
<li>氧化前的清洗非常重要，可以减少离子污染</li>
</ol>
</li>
<li>固定氧化电荷

<ol>
<li>在Si片表面的传输去区域由于最后停止O的输送导致Si与O没有形成完全的Si-O键（未完成的氧化反应）</li>
<li>可以通过后续的退火进行原子重排来减少，但是无法避免，因为与工艺相关</li>
</ol>
</li>
<li>氧化层内部残留电荷

<ol>
<li>由非桥氧所致，可正可负</li>
</ol>
</li>
<li>表面残留电荷

<ol>
<li>Si/SiO2表面原子级突变，形成缺陷</li>
<li>晶格不对齐导致的悬挂键</li>
<li>可以通入H2与Si形成Si-H键来降低缺陷态，但是不如Si-O稳定，在高压大电流，有应力的情况下，Si-H键容易断裂，影响器件特性</li>
</ol>
</li>
</ol>


<h2>LOCOS &amp; STI</h2>

<ol>
<li>LOCOS（Local Oxidation of Silicon，局部氧化隔离）是硅的选择性氧化，SiN作为扩散掩膜层，绝大多数分子很难扩散穿过SiN。先在有源区覆盖一层SiN，接着在暴露的隔离区通过湿氧氧化生长一层较厚的氧化层，最后去除SiN层，形成有源区，在有源区中制作器件。</li>
<li>SiN可以防止O2或者H2O扩散至底层与Si发生氧化反应，但是SiN无法防止气体从侧面扩散，导致横向氧化，因此会形成鸟嘴（bird&rsquo;s beak），鸟嘴处应力较大，易形成缺陷</li>
<li>STI即浅沟槽隔离，先淀积氧化硅，然后在隔离区腐蚀出一定深度的沟槽，再进行侧墙氧化，用CVD的方法在沟槽中淀积SiO2，最后通过CMP法平坦化，形成沟槽隔离区和有源区。与LOCOS相比较，更有效地隔离了器件，表面非常平坦，有利于下一代工艺的加工。但是STI工艺贵且复杂
<img src="http://i.imgur.com/kTy6eoo.png" alt="LOCOS" /></li>
</ol>


<h2>氧化膜厚度测量</h2>

<ol>
<li>椭偏仪，可以同时测量厚度与折射率，精度达到1nm，原理是光的偏振，可以测量介质膜</li>
<li>台阶仪，可以测量多种膜，但是需要 先刻蚀出一个台阶</li>
</ol>


<h2>外延</h2>

<ol>
<li>一种特殊的CVD过程三种外延过程，淀积产物呈单晶状态
<img src="http://i.imgur.com/Ce3SGrT.png" alt="外延技术" /></li>
<li>为了形成单晶，外延与普通CVD有两点主要不同：

<ol>
<li>衬底界面处理更加苛刻，需要利用衬底的晶格来引导薄膜的单晶生长</li>
<li>生长温度比普通CVD高很多</li>
</ol>
</li>
<li>典型应用：

<ol>
<li>功率器件：功率器件中耐压较高的器件需要在高阻的半导体上制备，同时为了使整体串联电阻很小，衬底需要低阻。整个wafer的上面是低参杂，下面高参杂，而且低参杂的厚度很厚，达到几十微米</li>
<li>改变硅的晶格常数，制备高迁移率应变沟道</li>
</ol>
</li>
</ol>


<h2>溅射、蒸发和电镀（制备金属薄膜）</h2>

<ol>
<li>集成电路对金属化的主要要求：

<ol>
<li>金属与半导体接触

<ol>
<li>肖特基接触</li>
<li>欧姆接触

<ol>
<li>高参杂后利用遂穿机制形成欧姆接触</li>
<li>硅化物的使用。在金属与半导体接触时，通常使用硅化物来作为接触层，避免金属和硅化物的共融体。主要采用钛硅化物，钴硅化物，镍硅化物</li>
</ol>
</li>
</ol>
</li>
<li>金属作为互连线。Al是目前集成电路工艺中最常用的金属链接材料，电阻率较低，工艺简单，易形成欧姆接触。但是铝容易形成电迁徙（高电流密度引发的电子风造成电迁徙），而且铝的RC延迟比较大。目前金属互联正从铝互联转向铜互联。但是铜的刻蚀比较困难，需要采用大马士革工艺。此外，为了简化工艺，在一些短距离的“局部互连”常使用多晶硅和硅化物。

<ol>
<li>有良好的导电性</li>
<li>容易与N型、P型硅形成低阻欧姆接触</li>
<li>与硅和二氧化硅等有良好的粘附性</li>
<li>易于淀积和刻蚀，便于键合</li>
<li>性能稳定可靠</li>
<li>互连线对台阶的覆盖性要好</li>
</ol>
</li>
</ol>
</li>
<li>蒸发：不易制备合金的膜</li>
<li>溅射（PVD）：可以制备合金膜，粘附性好，但是台阶覆盖性不太好
<img src="http://i.imgur.com/yaveWue.png" alt="溅射" /></li>
<li>电镀：台阶覆盖性最好</li>
<li>典型的经书画应用场合总结
<img src="http://i.imgur.com/Car7nUY.png" alt="金属化" /></li>
</ol>


<h2>光刻工艺综述</h2>

<ol>
<li>光刻常用在：有源区的图形化，栅极的图形化，接触孔的图形化，金属图形化</li>
<li>光刻过程的信息流：设计人员CAD设计->版图转移到掩膜版上MASK->通过光刻工艺在光刻胶表面的空中形成aerial image->转移到光刻胶表面real image->在1um的光刻胶里面形成Latent image->显影后形成Resist image->在器件上形成Device Layer；Each step can lose information, distoring device pattern</li>
<li>典型的图形化转移步骤：

<ol>
<li>旋转涂胶</li>
<li>曝光</li>
<li>显影</li>
<li>湿法刻蚀</li>
<li>去除光刻胶</li>
</ol>
</li>
</ol>


<h2>光刻工艺详解</h2>

<ol>
<li>MOS制备工艺中栅极的光刻步骤
<img src="http://i.imgur.com/fkNnt3m.png" alt="光刻步骤" /><img src="http://i.imgur.com/2hOh06Q.png" alt="光刻步骤" />

<ol>
<li>硅片清洗：将表面的颗粒和污染物去除，增强光刻胶和硅表面的附着力

<ol>
<li>化学清洗</li>
<li>去离子水漂净</li>
<li>甩干</li>
</ol>
</li>
<li>预烘及涂底胶

<ol>
<li>预烘在100℃左右，目的是去除硅片表面的水汽</li>
<li>涂底胶一般涂一层非常薄的HMDS，能够很好地促进光刻胶和硅片表面的结合</li>
</ol>
</li>
<li>涂光刻胶

<ol>
<li>光刻胶旋图的厚度影响因素：

<ol>
<li>光刻胶的种类</li>
<li>光刻胶的粘度</li>
<li>真空吸盘的转速</li>
</ol>
</li>
<li>光刻胶喷嘴在喷完光刻胶之后需要suck back（回吸）的动作，目的是避免悬在喷嘴口上的光刻胶掉落在硅片上</li>
<li>光刻胶旋涂后不仅覆盖硅片的正表面，还会覆盖边缘和背面一部分。边缘和背面的部分光刻胶称作Edge bead，需要去除（Edge bead removal，EBR），方法有化学EBR，曝光EBR</li>
</ol>
</li>
<li>软烤：将光刻胶里面80%的溶剂蒸发掉，提高光刻胶和硅片的粘附性

<ol>
<li>温度90℃~100℃</li>
<li>具体温度和软烤时间需要具体设置</li>
<li>方法：

<ol>
<li>烘箱退火</li>
<li>电炉烘烤</li>
</ol>
</li>
<li>过渡烘烤会降低光刻胶的光敏度</li>
</ol>
</li>
<li>对准：

<ol>
<li>这一步工艺决定了整个微纳加工的最小线宽</li>
<li>分类：接触式，接近式，投影式</li>
</ol>
</li>
<li>曝光

<ol>
<li>分为接触式，接近式和投影式</li>
</ol>
</li>
<li>后烤：停止光化学反应，让光刻胶的侧面光滑，提高精度，均匀驻波对光刻胶侧面带来的形貌的影响

<ol>
<li>温度高于软烤的温度，100℃，烘烤10分钟</li>
</ol>
</li>
<li>显影，硬烘和检测

<ol>
<li>在碱性溶液中显影，沉浸式或者喷雾，可以利用超声波来搅拌，让反应均匀</li>
<li>硬烤目的是将光刻胶中所有的溶剂都蒸发，光刻胶完成聚合化和剥离化，提供光刻胶抵抗刻蚀和注入的能力。同时在硬烤过程中，光刻胶内部的流动将内部的针孔给填满了</li>
</ol>
</li>
</ol>
</li>
<li>光刻机的原理：光的衍射

<ol>
<li>光刻机就是讲掩膜版上的图形与前次工序中已刻在硅片上的图形对准后，再将硅片表面的光刻胶进行曝光实现图形复制的设备</li>
<li>三个主要性能指标：

<ol>
<li>分辨率

<ul>
<li>是可以曝光出来的最小特征尺寸</li>
</ul>
</li>
<li>对准和套刻精度

<ul>
<li>是描述光刻机加工图形重复性能的一个指标，是层间套刻精度的度量，主要取决于掩膜版和硅片的支撑平台图形对准和移动控制精度性能</li>
</ul>
</li>
<li>产率

<ul>
<li>每个小时可加工的硅片的数目</li>
</ul>
</li>
</ol>
</li>
</ol>
</li>
<li>接触式光刻：掩膜版直接与光刻胶接触

<ol>
<li>优点：结构简单，成本低，光的衍射效应小，曝光出来的图形与掩膜版上的图形分辨率相当，设备简单</li>
<li>缺点：光刻胶污染掩膜版，产能低</li>
</ol>
</li>
<li>接近式光刻：掩膜版和光刻胶略微分开，越2~20μm

<ol>
<li>优点：可以避免与光刻胶的直接接触而引起的掩膜版损伤</li>
<li>缺点：引入了衍射效应，降低了分辨率</li>
</ol>
</li>
<li>投影式曝光：在掩膜版和光刻胶之间使用透镜聚集光实现曝光。一般掩膜版的尺寸会以需要转移图形的4倍制作

<ol>
<li>优点：提高了分辨率；掩膜版的制作更加容易；掩膜版上的缺陷影响减小</li>
<li>缺点：成本非常高，维护成本也很高</li>
<li>分类：

<ol>
<li>扫描投影曝光（Scanning Project Printing）

<ul>
<li>掩膜版1：1，全尺寸</li>
</ul>
</li>
<li>步进重复投影曝光

<ul>
<li>掩膜版缩小比例（4：1），曝光区域22X22mm</li>
</ul>
</li>
</ol>
</li>
</ol>
</li>
<li>掩膜版由石英作为基座，表面有一层50~500nm的铬层或者乳胶层，这层是带图形的

<ol>
<li>掩膜图形的制作方法有：镭射光刻写（不精确），电子束刻写（精确），两种方式都比较慢，需要几个小时</li>
</ol>
</li>
<li>光刻胶：光刻胶对光线敏感，所以需要在黄光下进行操作。光刻胶=基材+感光材料+溶剂

<ol>
<li>正性光刻胶：曝光区域更容易在显影液中溶解（光照破坏了聚合物链式结构）</li>
<li>负性光刻胶：曝光区域更不容易在显影液中溶解（光照促使产生了链式结构）</li>
<li>对光刻胶的要求：

<ol>
<li>旋涂方便</li>
<li>曝光性好</li>
<li>尺寸稳定</li>
<li>抗刻蚀</li>
</ol>
</li>
<li>光刻胶的清洗

<ol>
<li>浓硫酸+双氧水去除金属</li>
<li>使用有机溶剂清洗，但是很难去除硬化的光刻胶</li>
<li>氧的等离子体，将光刻胶燃烧</li>
</ol>
</li>
</ol>
</li>
<li>光线通过掩膜版后进入光刻胶，在硅片表面反射，与入射的光波产生干涉，形成驻波（standing wave），驻波的强光区域在显影时候溶解更多，驻波的弱光区域在显影的时候溶解更少，从而导致形成波浪状的侧面图形。避免形成驻波的方法：

<ol>
<li>在光刻胶里面加入吸收性更强的成分，削弱反射光</li>
<li>使用多层光刻胶</li>
<li>在硅片表面涂上一层防止反射的图层（bottom anti-reflection coating，BARC）</li>
</ol>
</li>
<li>多层对准（Overlay）产生的误差

<ol>
<li>掩膜版和硅片的热膨胀系数不同导致硅片上的图形与掩膜版上面的图形有误差，称为：Thermal run-in/run-out error</li>
<li>往同一个方向偏移（translation error）</li>
<li>旋转偏移（Rotational Error）</li>
<li>最大允许误差不能超过特征尺寸的1/3</li>
</ol>
</li>
<li>采用OPC（optical proximity correction）的方法对由于光学衍射和干涉带来的图形畸变</li>
<li>提高光刻分辨率的若干技术

<ol>
<li>更短波长的光源

<ol>
<li>汞灯G线波长436nm，H线405nm，I线365nm；KrF准分子激光波长248nm；ArF准分子激光波长193nm。进一步缩小波长，一方面受到没有足够功率和稳定性激光器的限制，另一方面也受到光线大气吸收的限制</li>
</ol>
</li>
<li>浸润式光刻技术

<ol>
<li>在光刻胶和投影镜头之间填充介电常数n大于1的物质，如水，等效波长就会减小为原来的1/n</li>
</ol>
</li>
<li>移相掩膜技术</li>
<li>DFM（Design For Manufacture）技术</li>
<li>EUV（Extreme Ultraviolet Lithography，极紫外光刻）使用波长非常小的紫外光来进行光刻，是一套光反射系统，波长11.2nm</li>
</ol>
</li>
</ol>


<h2>图形转移</h2>

<ol>
<li>图形转移就是利用光刻胶作为掩蔽，通过物理和化学的办法把下面的衬底或薄膜材料中没有被掩蔽的部分腐蚀掉。腐蚀的方式有：湿法腐蚀和干法刻蚀</li>
<li>湿法腐蚀：利用化学试剂进行腐蚀

<ol>
<li>通常是各向同性的，垂直和侧面刻蚀速率比约为1.2：1。但是KOH对Si的腐蚀与晶向有关，100面的腐蚀速率是111的一百倍</li>
<li>需要控制腐蚀液的浓度和腐蚀温度</li>
<li>不适合在更小尺度下进行刻蚀</li>
</ol>
</li>
<li>干法刻蚀：在腐蚀气体的气氛下完成腐蚀。为了增强腐蚀气体的化学活性，通常需要将腐蚀气体激发成等离子体

<ol>
<li>为了形成等离子体，反应在低压下进行</li>
<li>反应生成物应该是易挥发性的</li>
<li>离子轰击：

<ul>
<li>电容极板的等离子状态下，等离子体与衬底表面会产生一个鞘层，鞘层产生的自电电势会加速这个离子轰击到衬底表面，离子轰击能量达到10~700eV。离子轰击增强腐蚀效果，腐蚀速率提高几到几十倍</li>
<li>离子轰击将被刻蚀材料表面的原子键破坏</li>
<li>将再沉淀于被刻蚀表面的产物或聚合物打掉，使被刻蚀表面能再与刻蚀气体接触</li>
<li>化学反应生成的聚合物淀积在侧壁，起到保护侧壁的作用，是的整个反应向下进行比较快</li>
</ul>
</li>
<li>干法刻蚀系统：ICP（Inductor Coupled Plasma）

<ol>
<li>用电感耦合产生高密度的等离子体</li>
<li>可单独调节轰击电压和等离子体密度</li>
</ol>
</li>
<li>各向异性（Anisotropy）A=1-Vh/Vv,Vh表示水平刻蚀速度，Vv表示垂直刻蚀速度</li>
<li>选择性（Selectivity）Sab=Ea/Eb，Ea表示材料a的刻蚀速率，Eb表示材料b的刻蚀速率</li>
<li>影响干法刻蚀的因素：

<ol>
<li>压强</li>
<li>气体流量</li>
<li>射频功率</li>
<li>温度</li>
<li>腔体几何形状</li>
</ol>
</li>
</ol>
</li>
<li>各向同性刻蚀：以光刻胶的暴露的表面为起点，向下和向两侧的腐蚀速度相同</li>
<li>完全各向异性刻蚀：以光刻胶的暴露的表面为起点，腐蚀的放下仅仅向下进行，不向两侧扩展</li>
<li>部分各向异性刻蚀：腐蚀的过程向下推进，同时也向两侧扩展，但是速率不一样</li>
<li>刻蚀Si和SiO2

<ol>
<li>材料：CF4+O2，氧气是用来去除反应生成的聚合物</li>
<li>当氧气表较少的时候，随着氧气浓度的增加，刻蚀速率会增加；当氧气浓度高到一定程度，氧气浓度再上升，会导致刻蚀速率的下降</li>
<li>H2的存在会导致刻蚀速率下降，而且刻蚀Si的速度下降更快</li>
<li>通过通入O2和H2来调节刻蚀速度和选择比</li>
</ol>
</li>
<li>干法刻蚀的物理化学过程

<ol>
<li>化学腐蚀（中兴活性反应物参与）</li>
<li>等离子增强的化学腐蚀</li>
<li>离子轰击增强刻蚀</li>
<li>生成物的侧壁沉积
<img src="http://i.imgur.com/HWG5MZv.png" alt="不同材料的刻蚀" /></li>
</ol>
</li>
</ol>


<h2>干法刻蚀与湿法刻蚀的比较</h2>

<p><img src="http://i.imgur.com/HkoqZ3w.png" alt="干湿法刻蚀的比较" /></p>

<h2>刻蚀中三个最重要的考虑要素</h2>

<ol>
<li>刻蚀的选择比</li>
<li>各向异性</li>
<li>离子轰击损伤</li>
</ol>


<h2>刻蚀中的若干问题</h2>

<ol>
<li>掩膜损失

<ol>
<li>刻蚀过程中光刻胶也会有所损失，使得光刻胶定义的窗口展宽，不利于定向腐蚀</li>
<li>解决办法：使用硬掩膜</li>
</ol>
</li>
<li>侧壁沉积物的控制

<ol>
<li>反应生成物在侧壁的沉积过多会使得光刻胶定义的窗口缩小</li>
<li>通过反应气氛中接入小量的O2去除适当的侧壁生成物，使之不产生大量的堆积</li>
</ol>
</li>
<li>侧壁堆积的聚合物对电路可靠性产生不利影响

<ol>
<li>刻蚀完成后需要加入阳等离子体的处理，去除侧壁聚合物，提高电路的可靠性</li>
</ol>
</li>
<li>负载效应（Loading effect）

<ol>
<li>刻蚀速率与被刻蚀材料的暴露表面积相关，表面积越大，刻蚀速率越慢，使得刻蚀均匀性受很大影响</li>
<li>解决方法：在图形稀疏区域加一些dummy pattern（加图形），使各个区域的图形密度大致相当</li>
</ol>
</li>
<li>天线效应

<ol>
<li>离子轰击是带电荷的，在对金属引线的刻蚀过程中，金属对于器件来说相当于天线，收集了大量的电荷，这些电荷产生的电场有可能会击穿介质层</li>
<li>解决方法：工艺与设计相结合，设计时候避免较大较长的金属引线的刻蚀</li>
</ol>
</li>
</ol>


<h2>MOSFET多晶硅删的刻蚀</h2>

<p><img src="http://i.imgur.com/fHsTbdE.png" alt="MOSFET多晶硅删的刻蚀" /></p>

<h2>TSV（through silicon via）刻蚀</h2>

<p><img src="http://i.imgur.com/7CFMDkg.png" alt="TSV刻蚀" /></p>

<h2>扩散工艺综述</h2>

<p><img src="http://i.imgur.com/g7IMqR7.png" alt="扩散工艺介绍" />
1. 预淀积（Predeposit）
    1. 确定总体的掺杂数目
2. 推进（Drive-in ）</p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2015-10-11T16:59:33+08:00" pubdate data-updated="true"></time></div>
	<div class="tags">

</div>
	
</div>
</article>

<nav id="pagenavi">
    
    
        <a href="/posts/2" class="next">Next</a>
    
    <div class="center"><a href="/blog/archives">Blog Archives</a></div>
</nav>
</div>
	<footer id="footer" class="inner">Copyright &copy; 2015

    suda-morris

Powered by Octopress-WenRis Group
</footer>
	<script src="/javascripts/slash.js"></script>
<script src="/javascripts/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
	$('.fancybox').fancybox();
})(jQuery);
</script> <!-- Delete or comment this line to disable Fancybox -->






</body>
</html>